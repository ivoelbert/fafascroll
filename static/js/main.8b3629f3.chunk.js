(this.webpackJsonpfafascroll=this.webpackJsonpfafascroll||[]).push([[0],[,,,,,,function(e,t,n){e.exports=n(15)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(4),c=n.n(i),o=(n(11),n(2)),l=n(1),u=function(e,t,n){return Math.min(Math.max(e,t),n)},s=function(e,t,n,r,a){return(e-t)*(a-r)/(n-t)+r},d={getHeight:function(){throw new Error("Can't use context outside ScrollerProvider")},addSection:function(e,t){throw new Error("Can't use context outside ScrollerProvider")},isSectionVisible:function(e){throw new Error("Can't use context outside ScrollerProvider")},scrollerRef:null},f=a.a.createContext(d),h=function(e){var t=e.children,n=Object(r.useState)([]),i=Object(l.a)(n,2),c=i[0],d=i[1],h=function(){var e=Object(r.useState)(0),t=Object(l.a)(e,2),n=t[0],a=t[1],i=Object(r.useCallback)((function(e){var t=window.scrollY;a(t)}),[]);return Object(r.useEffect)((function(){return window.addEventListener("scroll",i),function(){window.removeEventListener("scroll",i)}}),[i]),n}(),m=function(){var e=Object(r.useState)(window.innerHeight),t=Object(l.a)(e,2),n=t[0],a=t[1],i=Object(r.useCallback)((function(e){a(window.innerHeight)}),[]);return Object(r.useEffect)((function(){return window.addEventListener("resize",i),function(){window.removeEventListener("resize",i)}}),[i]),n}(),v=Object(r.useRef)(null),b={getHeight:Object(r.useCallback)((function(){var e=c.length>0?c[c.length-1].height:0;return m+e}),[c,m]),addSection:function(e,t){c.find((function(t){return t.name===e}))||d((function(n){var r=(n.length>0?n[n.length-1].height:0)+t;return[].concat(Object(o.a)(n),[{name:e,height:r}])}))},isSectionVisible:function(e){if(0===c.length)return[!1,0];var t,n=v.current?function(e){for(var t=0;e;)t+=e.offsetTop+e.clientTop,e=e.offsetParent;return t}(v.current):0,r=h-n,a=c.findIndex((function(t){return t.name===e})),i=c[a],o=0===a?0:c[a-1].height;switch(a){case 0:t=r<i.height;break;case c.length-1:t=r>o;break;default:t=r>o&&r<i.height}return[t,u(s(r,o,i.height,0,1),0,1)]},scrollerRef:v};return a.a.createElement(f.Provider,{value:b},t)},m=function(){return Object(r.useContext)(f)},v=(n(12),function(e){var t=e.children,n=e.className,r=void 0===n?"":n;return a.a.createElement(h,null,a.a.createElement(b,{className:r},t))}),b=function(e){var t=e.children,n=e.className,r=m(),i=r.getHeight,c=r.scrollerRef,o=i();return a.a.createElement("div",{ref:c,className:"fafascroller-container ".concat(n),style:{height:o}},t)},E=a.a.createContext({relativePosition:0,absolutePosition:0}),w=function(e){var t=e.children,n={relativePosition:e.relativePosition,absolutePosition:e.absolutePosition};return a.a.createElement(E.Provider,{value:n},t)},g=n(5).a.div({visible:{opacity:1},hidden:{opacity:0}}),j=function(e){var t=e.children,n=e.duration,r=e.name,i=m(),c=i.addSection,o=i.isSectionVisible;c(r,n);var u=o(r),s=Object(l.a)(u,2),d=s[0],f=s[1],h=n*f;return a.a.createElement(g,{style:{zIndex:d?10:0},className:"sticky-section",pose:d?"visible":"hidden"},a.a.createElement(w,{relativePosition:f,absolutePosition:h},t))},O=function(){return Object(r.useContext)(E)},p=(n(13),function(e){var t=e.scale,n=e.transparent;return a.a.createElement("div",{className:"shadow",style:{backgroundColor:n?"#2b2b2b50":"#2b2b2b",transform:"scaleY(".concat(t,")")}})}),P=function(){var e,t,n=O().relativePosition;return a.a.createElement("div",{className:"section first-section"},a.a.createElement("h1",null,"0xFAFAFA"),(e=5,t=function(e){var t=u(s(n,.2*e,1,0,1),0,1);return a.a.createElement(p,{transparent:4!==e,key:e,scale:t})},Object(o.a)(new Array(e)).map((function(e,n){return t(n)}))))},C=function(){var e=O().relativePosition;return a.a.createElement("div",{className:"section second-section"},a.a.createElement("p",null,"second section!"),a.a.createElement("div",{style:{backgroundColor:"white",height:50,width:"100%"}},a.a.createElement("div",{style:{backgroundColor:"red",height:"100%",width:"".concat(100*e,"%")}})))},k=function(){var e=90*O().relativePosition;return a.a.createElement("div",{className:"section third-section"},a.a.createElement("p",null,"third section!"),a.a.createElement("div",{style:{backgroundColor:"white",height:100,width:100,transform:"rotate(".concat(e,"deg)")}}))},x=function(){var e=function(e){var t=Object(r.useState)((function(){return window.matchMedia(e).matches})),n=Object(l.a)(t,2),a=n[0],i=n[1];return Object(r.useLayoutEffect)((function(){var t=window.matchMedia(e),n=function(e){return i(e.matches)};return t.addListener(n),function(){return t.removeListener(n)}}),[e]),a}("screen and (min-width: 768px)");return console.log(e),a.a.createElement(v,{className:"scroller-container"},a.a.createElement(j,{name:"first-section",duration:e?3e3:1e3},a.a.createElement(P,null)),a.a.createElement(j,{name:"second-section",duration:2e3},a.a.createElement(C,null)),a.a.createElement(j,{name:"third-section",duration:1e3},a.a.createElement(k,null)))},y=(n(14),function(){return a.a.createElement("div",null,a.a.createElement(x,null))});c.a.render(a.a.createElement(y,null),document.getElementById("root"))}],[[6,1,2]]]);
//# sourceMappingURL=main.8b3629f3.chunk.js.map